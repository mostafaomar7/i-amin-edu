<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <!-- List Section -->
    <section class="list-wrapper">
      <!-- Card Header -->
      <div class="card">
        <h5 class="card-header">{{ 'PERMISSIONS_LIST' | translate }}</h5>
      </div>

      <!-- Loading Spinner -->
      <div *ngIf="isLoading" class="spinner-grow" role="status">
        <span class="sr-only">{{ 'LOADING' | translate }}</span>
      </div>

      <!-- Main Card -->
      <div *ngIf="!isLoading" class="card">
        <!-- Search and Entries -->
        <div class="row p-2">
          <!-- Show Entries -->
          <div class="col-md-6 col-12">
            <div class="d-flex justify-content-between align-items-center m-1">
              <label class="d-flex align-items-center">{{ "SHOW" | translate }}
                <select class="form-control mx-25" [(ngModel)]="selectedOption">
                  <option value="10">10</option>
                  <option value="25">25</option>
                  <option value="50">50</option>
                  <option value="100">100</option>
                </select>
                {{ "ENTRIES" | translate }}
              </label>
            </div>
          </div>
          <!-- Search Input -->
          <div class="col-md-6 col-12 d-flex justify-content-start justify-content-md-end">
            <div class="d-flex align-items-center justify-content-end">
              <label class="d-flex align-items-center m-2 ml-md-0">{{ "SEARCH" | translate }}:</label>
              <input [(ngModel)]="searchValue" name="searchValue" type="search" class="form-control"
                (keyup)="filterUpdate($event)" (search)="filterUpdate($event)" />
              <!-- Add New Button -->
              <button *ngIf="this._permissionListService.hasPermission('Permissions', 'add_permission')"
                class="btn btn-primary m-2 col-4" rippleEffect (click)="addItem()">
                {{ "ADD_NEW" | translate }}
              </button>
            </div>
          </div>
        </div>

        <!-- View Table -->
        <ngx-datatable [rows]="rows" [rowHeight]="50" class="bootstrap core-bootstrap" [limit]="selectedOption"
          [columnMode]="ColumnMode.force" [headerHeight]="50" [footerHeight]="50" [scrollbarH]="true">
          <!-- ID Column -->
          <ngx-datatable-column name="#" prop="id" [width]="20">
            <ng-template let-row="row" let-name="value" ngx-datatable-cell-template>
              <div class="d-flex align-items-center">{{ row.id }}</div>
            </ng-template>
          </ngx-datatable-column>
          <!-- Name Column -->
          <ngx-datatable-column name="{{ 'ROLE_NAME' | translate }}" prop="name">
            <ng-template let-row="row" let-name="value" ngx-datatable-cell-template>
              <div class="d-flex align-items-center">{{ row.name }}</div>
            </ng-template>
          </ngx-datatable-column>
          <!-- Actions Column -->
          <ngx-datatable-column name="{{ 'ACTIONS' | translate }}" [sortable]="false">
            <ng-template ngx-datatable-cell-template let-row="row">
              <div class="row">
                <!-- Edit Action -->
                <button *ngIf="this._permissionListService.hasPermission('Permissions', 'edit_permission')"
                  (click)="editItem(row)" class="btn btn-flat-secondary" rippleEffect>
                  <span [data-feather]="'edit'"></span>
                </button>
                <!-- Delete Action -->
                <button *ngIf="this._permissionListService.hasPermission('Permissions', 'delete_permission')"
                  class="btn btn-flat-danger" rippleEffect (click)="ConfirmDelete(row.id)">
                  <span [data-feather]="'trash'"></span>
                </button>
              </div>
            </ng-template>
          </ngx-datatable-column>
        </ngx-datatable>
      </div>
    </section>
  </div>
</div>