<div class="container mt-4">
  <div class="card shadow-lg rounded-3">
    <div class="card-header bg-info text-black">
      <h5 class="mb-0">{{ 'NEW_BROKER_USER.USER_FORM' | translate }}</h5>
    </div>
    <div class="card-body">
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

        <!-- Username -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.USERNAME' | translate }}</label>
          <input type="text" class="form-control" formControlName="username" placeholder="broker1">
          <div *ngIf="f.username.touched && f.username.invalid" class="text-danger mt-1">
            Username must be at least 3 characters.
          </div>
        </div>

        <!-- Email -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.EMAIL' | translate }}</label>
          <input type="email" class="form-control" formControlName="email" placeholder="new.teacer@example.com">
          <div *ngIf="f.email.touched && f.email.invalid" class="text-danger mt-1">
            Enter a valid email.
          </div>
        </div>

        <!-- Password -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.PASSWORD' | translate }}</label>
          <input type="password" class="form-control" formControlName="password" placeholder="a_strong_password_123">
          <div *ngIf="f.password.touched && f.password.invalid" class="text-danger mt-1">
            Password must be at least 8 characters.
          </div>
        </div>

        <!-- Phone -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.PHONE' | translate }}</label>
          <input type="tel" class="form-control" formControlName="phone" placeholder="1234467890">
        </div>

        <!-- Role / User Type -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.ROLE' | translate }}</label>
          <select class="form-select" formControlName="userType">
            <option [value]="2">{{ 'NEW_BROKER_USER.ROLE_ORGANIZATION' | translate }}</option>
            <option [value]="3">{{ 'NEW_BROKER_USER.ROLE_INSTRUCTOR' | translate }}</option>
          </select>

        </div>

        <!-- Bio English -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.BIO_EN' | translate }}</label>
          <textarea class="form-control" formControlName="bioEn" rows="3" placeholder="This is the biography in English"></textarea>
          <div *ngIf="f.bioEn.touched && f.bioEn.invalid" class="text-danger mt-1">
            English bio must be at least 3 characters.
          </div>
        </div>

        <!-- Bio Arabic -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.BIO_AR' | translate }}</label>
          <textarea class="form-control text-end" formControlName="bioAr" rows="3" dir="rtl" placeholder="هذه هي السيرة الذاتية باللغة العربية"></textarea>
          <div *ngIf="f.bioAr.touched && f.bioAr.invalid" class="text-danger mt-1">
            Arabic bio must be at least 3 characters.
          </div>
        </div>

        <!-- Image -->
        <div class="mb-3">
          <label class="form-label fw-semibold">{{ 'NEW_BROKER_USER.IMAGE' | translate }}</label>
          <input type="file" class="form-control" (change)="onFileSelected($event)">
          <div *ngIf="imagePreview" class="mt-2">
            <p class="mb-1">Preview:</p>
            <img [src]="imagePreview" alt="Preview" class="img-thumbnail" style="max-width: 200px;">
          </div>
        </div>

        <!-- Submit -->
        <div class="d-grid">
          <button type="submit" class="btn btn-success btn-lg">
            <i class="fas fa-check-circle me-2"></i>{{ 'NEW_BROKER_USER.SUBMIT' | translate }}
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
